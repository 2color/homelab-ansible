---
# ZFS pool configuration
zfs_pool_name: "backup-data"
zfs_pool_type: "mirror"  # Type of ZFS vdev: mirror, raidz, raidz2, or single
zfs_pool_devices:
  - "/dev/disk/by-id/usb-TerraMas_TDAS_ZVY0CGK5-0:0"  # sda - TerraMaster disk 1
  - "/dev/disk/by-id/usb-TerraMas_TDAS_ZVY0CGPW-0:0"  # sdb - TerraMaster disk 2

# ZFS pool-level properties (applied at pool creation)
zfs_pool_properties:
  ashift: "12"  # 4K physical sectors (modern HDDs and SSDs)
  autoexpand: "on"
  autoreplace: "off"

# Default ZFS filesystem properties (inherited by all datasets)
zfs_default_properties:
  compression: "lz4"
  atime: "off"
  checksum: "blake3"
  primarycache: "all"  # ARC cache in RAM
  secondarycache: "all"  # L2ARC cache (if available)
  sync: "standard"
  recordsize: "128k"  # Good for mixed workloads

# ZFS datasets configuration
zfs_datasets:
  - name: "{{ zfs_pool_name }}/root"
    mountpoint: "/backup-data"
    properties: {}  # Uses all defaults

# Maintenance settings
zfs_enable_scrub: true
zfs_scrub_cron_minute: "0"
zfs_scrub_cron_hour: "2"
zfs_scrub_cron_day: "1"  # First day of each month