---
# Samba configuration defaults
samba_workgroup: WORKGROUP
samba_server_string: "Homelab Samba Server"
samba_netbios_name: "homelab-1"

# Network access restriction (allows both local network and Tailscale)
samba_hosts_allow: "192.168.1. 100.64.0.0/10"  # Local subnet + Tailscale CGNAT range
samba_hosts_deny: "ALL"

# User configuration - credentials stored in vault
samba_username: "daniel"
# vault_samba_password is defined in vault.yml

# Share configuration
samba_shares:
  - name: docker-data
    path: "{{ docker_data_path }}"
    comment: "Docker Data Directory"
    # Allow share to appear in network browse lists
    browseable: yes
    # Allow guest/anonymous read access
    guest_ok: yes
    # Default to read-only for all users including guests
    read_only: yes
    # File creation permissions for new files
    create_mask: "0644"
    # Directory creation permissions for new directories
    directory_mask: "0755"
    # Allow configured user to write to the share
    write_list: "{{ samba_username }}"
    # Make share publicly readable but only configured user can write
    public: yes

  - name: data
    path: /data
    comment: "SSD Data Directory"
    # Allow share to appear in network browse lists
    browseable: yes
    # Allow guest/anonymous read access
    guest_ok: no
    # Default to read-only for all users including guests
    read_only: yes
    # File creation permissions for new files
    create_mask: "0644"
    # Directory creation permissions for new directories
    directory_mask: "0755"
    # Allow configured user to write to the share
    write_list: "{{ samba_username }}"
    # Make share publicly readable but only configured user can write
    public: yes

  - name: backup-data
    path: /backup-data
    comment: "ZFS Backup Storage"
    # Allow share to appear in network browse lists
    browseable: yes
    # Allow guest/anonymous read access
    guest_ok: no
    # Default to read-only for all users including guests
    read_only: yes
    # File creation permissions for new files
    create_mask: "0644"
    # Directory creation permissions for new directories
    directory_mask: "0755"
    # Allow configured user to write to the share
    write_list: "{{ samba_username }}"
    # Make share publicly readable but only configured user can write
    public: yes